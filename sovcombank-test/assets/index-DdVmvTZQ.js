(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();const d="/assets/sprite-BpK12ttC.svg",l=(o,a)=>{const{className:s,width:e,height:t}=a;return`
        <svg class="${s}" width="${e}" height="${t}">
            <use xlink:href="${d}#${o}"></use>
        </svg>
    `};function _(o,a,s){let e=null,t=-50;const i=function(){const n=performance.now(),r=n-t;clearTimeout(e),r>=s?(t=n,o.call(a,...arguments)):e=setTimeout(i,s-r,...arguments)};return i}class u{constructor(){this._component=document.querySelector(".calendar"),this._btns=this._component.querySelectorAll(".calendar__btn"),this._onClick=this._onClick.bind(this),this._onPointerEnter=_(this._onPointerEnter,this,50),this._component.addEventListener("click",this._onClick),this._component.addEventListener("pointermove",this._onPointerEnter),this._start=null,this._end=null}_onClick(a){const s=a.target.closest(".calendar__btn");if(s===null)return;const e=+s.dataset.index;if(this._start===null){this._start=e,this._end=this._start,s.classList.add("calendar__btn--state--active");return}if(this._start===e){this._start=null,this._end=null,s.classList.remove("calendar__btn--state--active");return}const t=this._start;this._start=e<t?e:t,this._end=e>t?e:t,this._updateRange()}_onPointerEnter(a){const s=a.target.closest(".calendar__btn");if(!(s===null||this._start===null||this._start!==this._end)&&this._start!==null){const e=+s.dataset.index,t=e<this._start?e:this._start,i=e>=this._start?e:this._start;this._updateRange(t,i)}}_updateRange(a=this._start,s=this._end){this._btns.forEach((e,t)=>{const i=t<a||t>s,n=t===a,r=t===s,c=!n&&!r,h=n&&r;e.classList.toggle("calendar__btn--state--active",!i&&h),e.classList.toggle("calendar__btn--state--start",!i&&!h&&n),e.classList.toggle("calendar__btn--state--middle",!i&&!h&&c),e.classList.toggle("calendar__btn--state--end",!i&&!h&&r)})}}class m{constructor({defaultTheme:a="light",btnSelector:s,btnLightStateClassName:e="",btnDarkStateClassName:t="",lightThemeClassName:i="light-theme",darkThemeClassName:n="dark-theme"}){this._defaultTheme=a,this._oppositeDefaultTheme=a==="light"?"dark":"light",this._root=document.documentElement,this._btns=[...document.querySelectorAll(s)],this._btnLightStateClassName=e,this._btnDarkStateClassName=t,this._lightThemeClassName=i,this._darkThemeClassName=n,this.toggle=this.toggle.bind(this),this._updateThemeStuff=this._updateThemeStuff.bind(this),this._btns.forEach(r=>{r.addEventListener("click",this.toggle)}),this._matchMediaSupport=typeof window.matchMedia=="function",this._themeMedia=`(prefers-color-scheme: ${this._oppositeDefaultTheme})`,this._matchMediaSupport&&window.matchMedia(this._themeMedia).addEventListener("change",this._updateThemeStuff),this._updateThemeStuff()}toggle(){const a=!this._isCurrentLight;this._toggleBtnsState(a?"light":"dark"),this._root.classList.toggle(this._lightThemeClassName,a),this._root.classList.toggle(this._darkThemeClassName,!a),this._isCurrentLight=!this._isCurrentLight}_toggleBtnsState(a){const s=a==="light";this._btns.forEach(e=>{this._btnLightStateClassName!==""&&e.classList.toggle(this._btnLightStateClassName,s),this._btnDarkStateClassName!==""&&e.classList.toggle(this._btnDarkStateClassName,!s),e.setAttribute("aria-label",`Переключиться на ${s?"темную":"светлую"} тему`),e.innerHTML=l(s?"moon":"sun",{className:`toggle-theme-btn__icon${s?" toggle-theme-btn__icon--type--moon":""}`,width:50,height:50})})}_updateThemeStuff(){const a=this._root.classList.contains(this._lightThemeClassName),s=this._root.classList.contains(this._darkThemeClassName);!a&&!s?this._currentTheme=this._matchMediaSupport&&window.matchMedia(this._themeMedia).matches?this._oppositeDefaultTheme:this._defaultTheme:this._currentTheme=a?"light":"dark",this._isCurrentLight=this._currentTheme==="light",this._toggleBtnsState(this._currentTheme)}}const g=[...new Array(35)];document.querySelector("#app").innerHTML=`
    <button class="toggle-theme-btn" type="button" aria-label="переключить цветовую тему"></button>
    <div class="calendar calendar--theme--alpaca">
        <div class="calendar__header">
            <button class="calendar__month-btn calendar__month-btn--type--prev" aria-label="предыдущий месяц">${l("arrow",{className:"calendar__icon",width:32,height:32})}</button>
            <div class="calendar__month">Январь</div>
            <button class="calendar__month-btn calendar__month-btn--type--next" aria-label="следующий месяц">${l("arrow",{className:"calendar__icon",width:32,height:32})}</button>
        </div>
        <div class="calendar__body">${g.map((o,a)=>{const s=a+1,e=s%31,t=e===0?31:e;return`<button class="calendar__btn${s>=32?" calendar__btn--type--other-month":""}" type="button" data-index="${a}"><span class="calendar__day">${t}</span></button>`}).join("")}</div>
    </div>
`;new m({btnSelector:".toggle-theme-btn",btnLightStateClassName:"toggle-theme-btn--state--light",btnDarkStateClassName:"toggle-theme-btn--state--dark"});new u;
